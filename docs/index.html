<!DOCTYPE html>
<html>
    <head>
        <title>Webcam</title>
        <style>
            html, body {
                margin: 0;
                border: 0;
                padding: 0;
                background-color: rgb(45, 45, 45);
            }
            body {
                width: 100%;
            }
            #video-element {
                display: block;
                margin: auto;
                margin-top: 10px;
                background-color: rgba(255, 255, 255, 0.5);
                min-width: 640px;
                min-height: 480px;
            }
            #video-element.streaming {
                background-color: unset;
                min-width: unset;
                min-height: unset;
            }
        </style>
    </head>
    <body>
        <video controls="" autoplay="true" id="video-element">
            Loading...
        </video>
        <script>
            const el = document.querySelector("#video-element");
            (async () => {
                const src = await navigator.mediaDevices.getUserMedia({video: true});
                el.srcObject = src;
                video.classList.add('streaming');
                return 'Setup Stream!';
            })().then(console.log).catch(e => console.error('Failed to init:', e))
        </script>
    </body>
</html>